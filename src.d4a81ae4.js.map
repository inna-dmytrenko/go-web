{"version":3,"sources":["index.js"],"names":["validate","e","valid","errors","document","getElementsByClassName","length","parentNode","removeChild","getElementById","value","querySelector","innerHTML","emailField","test","String","toLowerCase","preventDefault","window","onscroll","screen","width","scrollY","classList","remove","add","form","addEventListener"],"mappings":";;;AA8DA,aA/CA,SAASA,EAASC,GACZC,IAAAA,GAAQ,EAGNC,MAAAA,EAASC,SAASC,uBAAuB,oBACxCF,KAAAA,EAAOG,OAAS,GACrBH,EAAO,GAAGI,WAAWC,YAAYL,EAAO,IAItBC,SAASK,eAAe,UAE3BC,QAEfN,SAASO,cAAc,uBAAuBC,WAC5C,kEACFV,GAAQ,GAMJW,MAAAA,EAAaT,SAASK,eAAe,SAEvC,GAACI,EAAWH,MAKT,CAEM,yHACHI,KAAKC,OAAOF,EAAWH,OAAOM,iBACpCZ,SAASO,cAAc,sBAAsBC,WAC3C,4DACFV,GAAQ,QATVE,SAASO,cAAc,sBAAsBC,WAC3C,kEACFV,GAAQ,EAcHA,OAHH,GAASA,GACXD,EAAEgB,iBAEGf,EAzDT,QAAA,oBAEAgB,OAAOC,SAAW,WACZD,OAAOE,OAAOC,OAAS,IACzBC,SAAW,GACPlB,SAASK,eAAe,UAAUc,UAAUC,OAAO,UACnDpB,SAASK,eAAe,UAAUc,UAAUE,IAAI,UAEpDH,SAAW,IACPlB,SAASK,eAAe,UAAUc,UAAUC,OAAO,UACnDpB,SAASK,eAAe,UAAUc,UAAUE,IAAI,WAkDxD,MAAMC,EAAOtB,SAASK,eAAe,QAErCiB,EAAKC,iBAAiB,SAAU3B","file":"src.d4a81ae4.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nwindow.onscroll = function () {\n  if (window.screen.width >= 768) {\n    scrollY <= 70\n      ? document.getElementById('header').classList.remove('scroll')\n      : document.getElementById('header').classList.add('scroll');\n  } else {\n    scrollY <= 120\n      ? document.getElementById('header').classList.remove('scroll')\n      : document.getElementById('header').classList.add('scroll');\n  }\n};\n\n// const nameInput = document.querySelector('input.input');\nfunction validate(e) {\n  let valid = true;\n\n  // удаляем все уже существующие ошибки валидации, чтобы проверять по новой\n  const errors = document.getElementsByClassName('validation-error');\n  while (errors.length > 0) {\n    errors[0].parentNode.removeChild(errors[0]);\n  }\n\n  // проверяем автора\n  const authorField = document.getElementById('author');\n\n  if (!authorField.value) {\n    // если не заполнено\n    document.querySelector('label[for=\"author\"]').innerHTML +=\n      ' <span class=\"validation-error\">This is a required field</span>';\n    valid = false;\n  }\n\n  // проверяем поле комментария\n\n  // проверяем поле емейла\n  const emailField = document.getElementById('email');\n\n  if (!emailField.value) {\n    // если не заполнено\n    document.querySelector('label[for=\"email\"]').innerHTML +=\n      ' <span class=\"validation-error\">This is a required field</span>';\n    valid = false;\n  } else {\n    // если заполнено, то проверяем на корректность email-адреса регулярным выражением\n    const re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n    if (!re.test(String(emailField.value).toLowerCase())) {\n      document.querySelector('label[for=\"email\"]').innerHTML +=\n        ' <span class=\"validation-error\">Некорректный email</span>';\n      valid = false;\n    }\n  }\n\n  if (false == valid) {\n    e.preventDefault(); // предотвращаем отправку формы, если есть ошибки валидации\n  }\n  return valid;\n}\n\nconst form = document.getElementById('form');\n\nform.addEventListener('submit', validate);\n"]}